<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Users</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="container mx-auto" style="margin-top: 50px;">
    <% if (messages.success) { %>
    <div class="text-red-600 font-bold
            ml-0 md:ml-10 lg:ml-20" 
        role="alert"><%- messages.success %></div>
    <% } %>

    <% if (messages.error) { %>
    <div class="text-red-600 font-bold
            ml-0 md:ml-10 lg:ml-20" 
        role="alert"><%- messages.error %></div>
    <% } %>

    <div class="border border-solid rounded-md shadow-md 
                p-0 md:p-8 lg:p-16 
                mx-0 md:mx-10 lg:mx-20">
        <div class="flex flex-col text-center mx-auto 
                    w-2/5 md:w-1/3 lg:w-1/5">
            <p class="text-neutral-900 text-xl">Users</p>
            <a class="border border-solid shadow-md bg-green-500 hover:bg-green-400 p-2 rounded-md 
                    my-4 mx-2 md:mx-6"
                href="/users/add">Add User</a>
        </div>
        <div class="border border-solid">        
            <% if(data.length) { %>
            <table class="mx-auto w-full">
                <thead class="font-bold bg-stone-300">
                    <tr class="text-center text-sm md:text-base">
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Position</th>
                        <th width="">Action</th>
                    </tr>
                </thead>
                <tbody>
                <% for(var i = 0; i< data.length; i++) { %>
                    <tr class="text-center text-xs md:text-base">
                        <th scope="row" class="py-4"><%= (i+1) %></th>
                        <td><%= data[i].name %></td>
                        <td><%= data[i].email %></td>
                        <td><%= data[i].position %></td>
                        <td>
                            <a class="border border-solid shadow-md bg-indigo-500 hover:bg-indigo-400 rounded-md 
                                    p-2 my-2 mx-0 md:mx-2" 
                                href="../users/edit/<%=data[i].id%>">Edit</a>
                            <a class="border border-solid shadow-md bg-red-500 hover:bg-red-400 rounded-md 
                                    p-2 my-2 mx-0 md:mx-2" 
                                onclick="return alert('Are you sure want to delete this record?')" href="../users/delete/<%=data[i].id%>">Delete</a> 
                        </td>
                    </tr>
                <% } %>
                </tbody>
            </table>
            <% } %>
            
            <!-- if result is empty -->
            <% if(!data.length) { %>
                <p class="text-center text-red-600 font-bold">No users found!</p>
            <% } %>
        </div>
    </div>
</body>
</html>